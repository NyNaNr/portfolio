---
title: "【はじめての個人開発】授業中にランダム指名できるWebアプリを作ってみた【教育】"
created_at: "2023-06-02"
updated_at: "2023-06-11"
description: "Next.jsでmarkdownファイルを利用したブログの構築手順を解説しています。"
tags: ["TypeScript", "Next.js", "React", "個人開発"]
---

# はじめに

授業中に生徒をランダムに指名する場面があります。例えば「今日は〇月〇日だから出席番号 △ 番の人～」と指名したり、割りばしの先に番号を書き、神社のおみくじのように発表者を決めたりする方法があります。

今回開発したアプリで、この指名方法を令和にアップデートしたいです！

# このアプリを作るきっかけ

生徒を指名する方法はさまざまな種類があります。そのうちの一つがランダム指名（籤引き指名）です。それならただ単に教員がランダムに指名すればよいと考えがちですが、これは生徒の不満を生む場合が多いです。生徒からしてみれば、教員の意図が入り込む余地があるからです。
　そういうこともありランダムに指名する時は教員の意図が入らないプログラムをエクセルで実装し、普段から使っていました。思わぬ副作用で生徒からの反応もよく、名前がランダムに表示されている時間は、「誰になるんだ！」と緊張感が漂います。

嬉しいことに同僚の教員にも使ってもらえるようになりました！しかしその度に使用方法を説明したり、エクセルは関数を誤って削除してしまうトラブルを復旧したり、操作方法（F9 キーを押し続ける）を忘れてしまうなど、すこしユーザーの使いにくさを感じる部分もありました。
　ちょうどそのころ、私は Python にドハマりしている時期でした。そこでプログラミングで Web アプリを作れば、どんな環境でもブラウザがあれば、誰でも全国どこでも簡単にアクセスし使ってもらえるのではないかと思いました。プログラミングで教員の役に立ちたいと思い、この機能を Web アプリで実装しようと作り始めました。

# 作ったもの

![home.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3468711/77d3cd5f-dc42-18f2-5130-c55933a78b9f.png)
これがホーム画面です。40 クラスまでの名簿を管理できます。初回アクセス時のみ「sample\_偉人」が cookie に書き込まれます。六角形のロゴは、商店街などでよく見るガラガラ抽選機をイメージしています。真ん中の R は Random のイニシャルです。

![RandomNameApp.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3468711/5383ff5c-6b91-06b3-e4b0-f8878351314f.gif)
リストを作成し、スタートボタンを押すと始まります。
巨大モニターで映し出して使うことで、一番後ろの席でもはっきり見えます。

# URL

https://yur.vercel.app/random_name_app/features

https://github.com/NyNaNr/randomNameApp

# 開発中に意識したこと

### 1\.ユーザーの安心感

教育現場では、個人情報の管理が徹底されています。今回生徒の名前を取り扱うにあたり、ユーザーにこのアプリなら大丈夫だと思ってもらうためにどうすればよいか熟考しました。（以下、個人情報は、ユーザーが入力した生徒の名前を指す。）

- 外部サーバー
  「技術的に安全であっても外部に個人情報を保存すると不安」と思ってしまい使用を避けるユーザーが多いと仮定しました。またログインが必要になるとユーザーの離脱率が高まると考えました。よってこの案はボツです。
- WebStorage
  　 WebStorage は、永続的なデータ保存・ストレージ容量が 4MB と Cookie よりも高機能です。今回の実装には、おあつらえ向きで採用を考えました。しかしセキュリティについて調べていく中で「cookie を使用するよりも安全ではない」といった記述が多くみられました。よってこの案もボツです。
  ただし、リストの名前を保存するためにローカルストレージを利用します。
- cookie
  　個人情報を外部に送信しないかつ、より安全なローカルへの保存方法を考えた場合、cookie が適していると判断しました。このアプリでは cookie へ保存を採用します。

### 2\.UI/UX

実際の現場では、パソコン操作に疎い教員が多いです。そんな教員にも迷うことなく使用してもらうために UI を工夫しました。直感的に操作方法が分かるように心がけました。

# 仕様

このアプリは cookie に個人情報を保存しているので、cookie の仕様による制限を受けています。

- 作成できるリストの上限
  　ブラウザによって１ドメイン当たりに保持できる cookie の上限は異なります。そのなかでも上限が低いブラウザの保持できる cookie が 50 くらいでした。余裕をもって 40 にしています。（ユーザーが 40 もリストを作る状況はあまり想定できませんが）
- リストに保存できる人数の上限
  　 1 つのリストにつき１つの cookie を使用しています。cookie の保存容量は 4096byte です。cookie に保存するときは uuid をキーとして保存、また日本語は URL エンコードして保存しています。よって人数の上限は、はっきり言えないですが、５文字くらい漢字表記で 80 人前後の名前を保存できます。

- 保存期間
  　ブラウザによって cookie の保存期間が異なります。この Web アプリの仕様上は、クラスを持つ期間は個人情報を保持する必要があると考えていたの１年と設定しています。chrome では、１年間保存できますが、Safari や Brave では１週間しか保存できません。これでは、UX を大きく損なってしまいます。その対策として、ユーザーがこの Web アプリにアクセスし、リストをクリックしたら cookie の再保存が行われ、保存期間が１週間伸びます。つまり、１週間に１度でも使い続ければ、入力した個人情報は保持され続けるので UX を大きく損なわずに済みます。

# 主な使用技術

- Next.js
- TypeScript
- Tailwind CSS

# レスポンシブ対応

スマホが普及している現代、パソコンよりスマホのトラフィックが多いそうです。スマホに対応していないと機会損失になります。また、友人に作った Web サイトを送るときに LINE を使うこと送ることになるでしょう。その時、レスポンシブ対応しておらず、スマホからの使い勝手が悪いサイトだと、第一印象が最悪で、実際に授業で使おうなんて思わないと考えました。
スマホも縦画面表示でも横画面表示でも使い勝手がいいように設計しました。スマホの場合、名前のランダム表示後のリスト追加確認のたびに Window.alert()を表示すると、Window.alert()の表示制限を受けたり、Window.alert()の表示が名前表示と重なってしまい、使い勝手が悪かったです。そこでモーダルを使用することで、表示制限と表示場所を制御するようにしました。

# 感想

このアプリが私の初作品になります。作ろうと決心してからは様々な書籍や Progate などのサイトで勉強していました。「まだこのレベルでは、Web アプリを作れない」と思って勉強ばかりに時間とっていました。
　そんな考え方ではいくら時間があっても完成しないと気づいてからは、実際に作り始めました。独学で、心が折れそうになる時もありましたが、分からないなりにできることを少しづつ増やし積み重ねてきた結果完成しました。たくさんの人に使ってもらえればと思います。（毎日 Google Analytics を眺めています。）
　 Qiita も初投稿です。コメントなどのアクションをいただけたらとても嬉しいです。何らかの誤りや改善点もあるかと思いますが、ご指導ご鞭撻のほどお願いします。
